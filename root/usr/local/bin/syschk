#!/bin/bash

good() {
    printf "\e[0;32m[+]\e[m %s\n" "$*"
}

bad() {
    printf "\e[0;31m[-]\e[m %s\n" "$*"
}

chk() {
    test $? -eq 0 && good "$*" || bad "$*"
}

systemd-chk() {
    unit=$1
    shift
    args=$@
    systemctl is-active "$unit" $args &> /dev/null; chk "$unit"
}

proc-chk() {
    pgrep "$1" &> /dev/null; chk "$1"
}


systemd-chk "earlyoom"
systemd-chk "dnscrypt-proxy"
systemd-chk "ufw"
systemd-chk "clamav-daemon"
systemd-chk "clamav-freshclam"

systemd-chk "sxhkd" --user

proc-chk "xidlehook"
proc-chk "polybar"
proc-chk "dunst"
proc-chk "tincd"
proc-chk "unclutter"
proc-chk "i3autotile"
proc-chk "autocutsel"
